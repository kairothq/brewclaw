"use client"

import { useRef } from "react"
import { gsap, useGSAP } from "@/lib/gsap-config"
import { motion } from "motion/react"

// Integration icons using Simple Icons paths (simplified)
const integrations = [
  {
    name: "Google Drive",
    color: "#4285F4",
    // Google Drive icon
    svg: "M4.433 22.396l4.83-8.387H22.35l-4.83 8.387H4.433zm7.38-9.891L6.986 2.62h8.67l4.827 9.885H11.813zm1.496 1.504L5.87 12.501.058 22.396h6.381l6.87-8.387z"
  },
  {
    name: "Notion",
    color: "#000000",
    svg: "M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.981-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466l1.823 1.447zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.933-.748-.887l-15.177.887c-.56.047-.747.327-.747.934zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952l1.449.327s0 .84-1.168.84l-3.22.186c-.094-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.139c-.093-.514.28-.887.747-.933l3.222-.187zM1.936 1.035l13.31-.98c1.634-.14 2.055-.047 3.082.7l4.249 2.986c.7.513.934.653.934 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.047-1.448-.093-1.962-.747l-3.129-4.06c-.56-.747-.793-1.306-.793-1.96V2.667c0-.839.374-1.54 1.447-1.632z"
  },
  {
    name: "Salesforce",
    color: "#00A1E0",
    svg: "M10.006 5.415a4.195 4.195 0 013.045-1.306c1.56 0 2.954.9 3.69 2.205.63-.3 1.35-.45 2.1-.45 2.85 0 5.159 2.34 5.159 5.22s-2.31 5.22-5.16 5.22c-.45 0-.884-.06-1.305-.165a3.9 3.9 0 01-3.63 2.49 3.886 3.886 0 01-2.16-.645 4.721 4.721 0 01-8.25-3.66 4.74 4.74 0 01.705-2.49 4.455 4.455 0 117.805-6.42z"
  },
  {
    name: "HubSpot",
    color: "#FF7A59",
    svg: "M18.164 7.93V5.084a2.198 2.198 0 001.267-1.982 2.21 2.21 0 00-4.42 0c0 .864.501 1.61 1.227 1.974v2.853a5.861 5.861 0 00-2.945 1.402l-7.74-5.93a2.333 2.333 0 00.098-.618 2.227 2.227 0 10-2.226 2.226c.464 0 .893-.145 1.249-.39l7.593 5.819a5.9 5.9 0 00-.143 1.282 5.867 5.867 0 005.867 5.867 5.87 5.87 0 10-1.827-11.658zM16.238 17.1a2.781 2.781 0 112.781-2.78 2.78 2.78 0 01-2.78 2.78z"
  },
  {
    name: "Gmail",
    color: "#EA4335",
    svg: "M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 010 19.366V5.457c0-2.023 2.309-3.178 3.927-1.964L5.455 4.64 12 9.548l6.545-4.91 1.528-1.145C21.69 2.28 24 3.434 24 5.457z"
  },
  {
    name: "Calendar",
    color: "#4285F4",
    svg: "M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"
  },
  {
    name: "Obsidian",
    color: "#7C3AED",
    svg: "M12.026.066L8.941 3.049l-.1.1a1.736 1.736 0 00-.497 1.6 1.736 1.736 0 00-.497-1.6l-.1-.1L4.662.066a.252.252 0 00-.357 0l-.1.1A1.736 1.736 0 003.508 1.2l.002 7.396c0 .49.195.96.544 1.306l3.894 3.99a3.42 3.42 0 004.104 0l3.894-3.99c.35-.346.544-.816.544-1.306V1.2a1.736 1.736 0 00-.697-1.034l-.1-.1a.252.252 0 00-.357 0l-3.31 2.983z"
  },
  {
    name: "Slack",
    color: "#4A154B",
    svg: "M5.042 15.165a2.528 2.528 0 01-2.52 2.523A2.528 2.528 0 010 15.165a2.527 2.527 0 012.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 012.521-2.52 2.527 2.527 0 012.521 2.52v6.313A2.528 2.528 0 018.834 24a2.528 2.528 0 01-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 01-2.521-2.52A2.528 2.528 0 018.834 0a2.528 2.528 0 012.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 012.521 2.521 2.528 2.528 0 01-2.521 2.521H2.522A2.528 2.528 0 010 8.834a2.528 2.528 0 012.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 012.522-2.521A2.528 2.528 0 0124 8.834a2.528 2.528 0 01-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 01-2.523 2.521 2.527 2.527 0 01-2.52-2.521V2.522A2.527 2.527 0 0115.165 0a2.528 2.528 0 012.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 012.523 2.522A2.528 2.528 0 0115.165 24a2.527 2.527 0 01-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 01-2.52-2.523 2.526 2.526 0 012.52-2.52h6.313A2.527 2.527 0 0124 15.165a2.528 2.528 0 01-2.522 2.523h-6.313z"
  },
  {
    name: "LinkedIn",
    color: "#0A66C2",
    svg: "M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"
  },
  {
    name: "Asana",
    color: "#F06A6A",
    svg: "M19.979 10.923c-2.227 0-4.033 1.806-4.033 4.033s1.806 4.033 4.033 4.033 4.033-1.805 4.033-4.033-1.806-4.033-4.033-4.033m-15.96 0c-2.227 0-4.032 1.806-4.032 4.033s1.805 4.033 4.033 4.033c2.228 0 4.033-1.805 4.033-4.033s-1.806-4.033-4.033-4.033m11.013-5.91c0 2.226-1.806 4.031-4.033 4.031S6.967 7.24 6.967 5.012 8.772.979 11 .979s4.033 1.807 4.033 4.034"
  },
  {
    name: "Monday",
    color: "#FF3D57",
    svg: "M5.1 17.6c-.8 0-1.4-.3-1.9-.8-.5-.5-.8-1.1-.8-1.9s.3-1.4.8-1.9.6-.5 1-.6V9.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3s.5.1.7.3c.2.2.3.4.3.7v2.7c.4.1.7.3 1 .6.5.5.8 1.1.8 1.9s-.3 1.4-.8 1.9c-.5.5-1.1.8-1.9.8zm6.9 0c-.8 0-1.4-.3-1.9-.8-.5-.5-.8-1.1-.8-1.9v-5c0-.8.3-1.4.8-1.9.5-.5 1.1-.8 1.9-.8s1.4.3 1.9.8c.5.5.8 1.1.8 1.9v5c0 .8-.3 1.4-.8 1.9-.5.5-1.1.8-1.9.8zm6.9 0c-.8 0-1.4-.3-1.9-.8-.5-.5-.8-1.1-.8-1.9V7.3c0-.8.3-1.4.8-1.9.5-.5 1.1-.8 1.9-.8s1.4.3 1.9.8c.5.5.8 1.1.8 1.9v7.6c0 .8-.3 1.4-.8 1.9-.5.5-1.1.8-1.9.8z"
  },
  {
    name: "ClickUp",
    color: "#7B68EE",
    svg: "M4.65 18.642l2.482-1.988c1.076 1.345 2.238 2.018 3.868 2.018 1.63 0 2.792-.673 3.868-2.018l2.482 1.988C15.588 20.903 13.628 22 11 22c-2.628 0-4.588-1.096-6.35-3.358zM11 5.239L4.573 10.58l-1.946-2.433L11 1.516l8.373 6.63-1.946 2.434L11 5.24z"
  },
  {
    name: "PostHog",
    color: "#1D4AFF",
    svg: "M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 3a7 7 0 100 14 7 7 0 000-14z"
  },
  {
    name: "Sheets",
    color: "#0F9D58",
    svg: "M19.385 2H4.615C3.173 2 2 3.173 2 4.615v14.77C2 20.827 3.173 22 4.615 22h14.77c1.442 0 2.615-1.173 2.615-2.615V4.615C22 3.173 20.827 2 19.385 2zM8 18H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V8h2v2zm10 8h-8v-2h8v2zm0-4h-8v-2h8v2zm0-4h-8V8h8v2z"
  },
  {
    name: "Apple Notes",
    color: "#FFD60A",
    svg: "M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"
  },
  {
    name: "GitHub",
    color: "#181717",
    svg: "M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"
  },
]

function IntegrationIcon({ name, color, svg }: { name: string; color: string; svg: string }) {
  return (
    <motion.div
      className="integration-icon flex flex-col items-center gap-2"
      whileHover={{ scale: 1.05, y: -4 }}
      transition={{ type: "spring", stiffness: 300, damping: 20 }}
    >
      <div className="w-16 h-16 rounded-2xl bg-white shadow-sm border border-zinc-100 flex items-center justify-center p-3">
        <svg
          viewBox="0 0 24 24"
          fill={color}
          className="w-full h-full"
        >
          <path d={svg} />
        </svg>
      </div>
      <span className="text-xs text-zinc-500 font-medium">{name}</span>
    </motion.div>
  )
}

export function IntegrationsSection() {
  const containerRef = useRef<HTMLElement>(null)

  useGSAP(
    () => {
      if (!containerRef.current) return

      gsap.fromTo(".integrations-header",
        { opacity: 0, y: 30 },
        {
          scrollTrigger: {
            trigger: containerRef.current,
            start: "top 80%",
          },
          opacity: 1,
          y: 0,
          duration: 0.6,
          ease: "power2.out",
        }
      )

      gsap.fromTo(".integration-icon",
        { opacity: 0, scale: 0.8 },
        {
          scrollTrigger: {
            trigger: ".integrations-grid",
            start: "top 80%",
          },
          opacity: 1,
          scale: 1,
          stagger: 0.05,
          duration: 0.4,
          ease: "back.out(1.7)",
        }
      )
    },
    { scope: containerRef }
  )

  return (
    <section
      ref={containerRef}
      id="integrations"
      className="relative py-24 px-6 bg-[#FAFAF9]"
    >
      <div className="max-w-5xl mx-auto">
        {/* Section Header */}
        <div className="integrations-header text-center mb-16">
          <p className="text-sm font-medium text-zinc-400 uppercase tracking-[0.2em] mb-4">
            Integrations
          </p>
          <h2 className="font-heading text-3xl md:text-4xl lg:text-5xl font-bold text-zinc-900 mb-4 italic">
            Import your data from anywhere
          </h2>
          <p className="text-zinc-500 text-lg max-w-2xl mx-auto">
            Contacts, notes, documents, CRM records â€” bring everything into one workspace.
          </p>
        </div>

        {/* Integrations Grid */}
        <div className="integrations-grid grid grid-cols-4 md:grid-cols-8 gap-6 md:gap-8 justify-items-center">
          {integrations.map((integration) => (
            <IntegrationIcon
              key={integration.name}
              name={integration.name}
              color={integration.color}
              svg={integration.svg}
            />
          ))}
        </div>

        {/* Footer note */}
        <p className="text-center mt-12 text-sm text-zinc-400 font-mono">
          + 50 more integrations via Skills Store
        </p>
      </div>
    </section>
  )
}
